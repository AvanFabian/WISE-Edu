generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// Levels represent groups of questions
model Level {
  id        Int        @id @default(autoincrement())
  number    Int        @unique // e.g., Level 1, 2, 3
  status    Boolean    @default(false) // Locked or unlocked
  questions Question[] // Relation to questions
}

// Questions belong to a level and have multiple answers
model Question {
  id        Int       @id @default(autoincrement())
  content   String    // The question text
  level     Level     @relation(fields: [levelId], references: [id])
  levelId   Int
  answers   Answer[]  // Relation to answers
}

// Answers belong to a question
model Answer {
  id        Int       @id @default(autoincrement())
  content   String    // The answer text
  isCorrect Boolean   @default(false) // Whether the answer is correct
  question  Question  @relation(fields: [questionId], references: [id])
  questionId Int
}

// Track user's progress through the levels and questions
model Progress {
  id          Int       @id @default(autoincrement())
  userId      Int       // User ID (can link to a User table if needed)
  levelId     Int       // The level associated with this progress
  questionId  Int       @default(0)// The question being tracked
  answerId    Int?      // The selected answer
  isCorrect   Boolean   @default(false)// Whether the answer was correct
  timestamp   DateTime  @default(now())
}
